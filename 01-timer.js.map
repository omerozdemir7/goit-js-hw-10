{"version":3,"file":"01-timer.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\r\nimport \"flatpickr/dist/flatpickr.min.css\";\r\nimport iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst dateInput = document.getElementById(\"datetime-picker\");\r\nconst startBtn = document.getElementById(\"start-btn\");\r\n\r\nconst daysEl = document.getElementById(\"days\");\r\nconst hoursEl = document.getElementById(\"hours\");\r\nconst minutesEl = document.getElementById(\"minutes\");\r\nconst secondsEl = document.getElementById(\"seconds\");\r\n\r\nlet selectedDate = null;\r\nlet countdownInterval = null;\r\n\r\n// Takvimi açılabilir yap\r\nconst picker = flatpickr(dateInput, {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  dateFormat: \"Y-m-d H:i\",\r\n  minDate: \"today\",\r\n  onChange(selectedDates) {\r\n    selectedDate = selectedDates[0];\r\n  },\r\n});\r\n\r\n// inputa tıklayınca takvim aç\r\ndateInput.addEventListener(\"click\", () => {\r\n  picker.open();\r\n});\r\n\r\nstartBtn.addEventListener(\"click\", () => {\r\n  if (!selectedDate) {\r\n    iziToast.warning({\r\n      title: \"Uyarı\",\r\n      message: \"Lütfen bir tarih ve saat seçin!\",\r\n      position: \"topCenter\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  const now = new Date();\r\n  if (selectedDate <= now) {\r\n    iziToast.error({\r\n      title: \"Hatalı Zaman\",\r\n      message: \"Geçmiş bir tarih seçemezsiniz!\",\r\n      position: \"topCenter\",\r\n    });\r\n    return;\r\n  }\r\n\r\n  iziToast.success({\r\n    title: \"Zamanlayıcı Başladı\",\r\n    message: \"Geri sayım başladı 🎯\",\r\n    position: \"topCenter\",\r\n  });\r\n\r\n  clearInterval(countdownInterval);\r\n  countdownInterval = setInterval(() => {\r\n    const now = new Date();\r\n    const diff = selectedDate - now;\r\n\r\n    if (diff <= 0) {\r\n      clearInterval(countdownInterval);\r\n      updateTimer(0);\r\n      iziToast.info({\r\n        title: \"Süre Doldu ⏰\",\r\n        message: \"Zamanlayıcı tamamlandı!\",\r\n        position: \"topCenter\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    updateTimer(diff);\r\n  }, 1000);\r\n});\r\n\r\nfunction updateTimer(ms) {\r\n  const sec = Math.floor(ms / 1000) % 60;\r\n  const min = Math.floor(ms / 1000 / 60) % 60;\r\n  const hrs = Math.floor(ms / 1000 / 60 / 60) % 24;\r\n  const day = Math.floor(ms / 1000 / 60 / 60 / 24);\r\n\r\n  daysEl.textContent = String(day).padStart(2, \"0\");\r\n  hoursEl.textContent = String(hrs).padStart(2, \"0\");\r\n  minutesEl.textContent = String(min).padStart(2, \"0\");\r\n  secondsEl.textContent = String(sec).padStart(2, \"0\");\r\n}\r\n"],"names":["dateInput","startBtn","daysEl","hoursEl","minutesEl","secondsEl","selectedDate","countdownInterval","picker","flatpickr","selectedDates","iziToast","diff","updateTimer","ms","sec","min","hrs","day"],"mappings":"2GAKA,MAAMA,EAAY,SAAS,eAAe,iBAAiB,EACrDC,EAAW,SAAS,eAAe,WAAW,EAE9CC,EAAS,SAAS,eAAe,MAAM,EACvCC,EAAU,SAAS,eAAe,OAAO,EACzCC,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAY,SAAS,eAAe,SAAS,EAEnD,IAAIC,EAAe,KACfC,EAAoB,KAGxB,MAAMC,EAASC,EAAUT,EAAW,CAClC,WAAY,GACZ,UAAW,GACX,WAAY,YACZ,QAAS,QACT,SAASU,EAAe,CACtBJ,EAAeI,EAAc,CAAC,CAC/B,CACH,CAAC,EAGDV,EAAU,iBAAiB,QAAS,IAAM,CACxCQ,EAAO,KAAI,CACb,CAAC,EAEDP,EAAS,iBAAiB,QAAS,IAAM,CACvC,GAAI,CAACK,EAAc,CACjBK,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,kCACT,SAAU,WAChB,CAAK,EACD,MACD,CAGD,GAAIL,GADQ,IAAI,KACS,CACvBK,EAAS,MAAM,CACb,MAAO,eACP,QAAS,iCACT,SAAU,WAChB,CAAK,EACD,MACD,CAEDA,EAAS,QAAQ,CACf,MAAO,sBACP,QAAS,wBACT,SAAU,WACd,CAAG,EAED,cAAcJ,CAAiB,EAC/BA,EAAoB,YAAY,IAAM,CAEpC,MAAMK,EAAON,EADD,IAAI,KAGhB,GAAIM,GAAQ,EAAG,CACb,cAAcL,CAAiB,EAC/BM,EAAY,CAAC,EACbF,EAAS,KAAK,CACZ,MAAO,eACP,QAAS,0BACT,SAAU,WAClB,CAAO,EACD,MACD,CAEDE,EAAYD,CAAI,CACjB,EAAE,GAAI,CACT,CAAC,EAED,SAASC,EAAYC,EAAI,CACvB,MAAMC,EAAM,KAAK,MAAMD,EAAK,GAAI,EAAI,GAC9BE,EAAM,KAAK,MAAMF,EAAK,IAAO,EAAE,EAAI,GACnCG,EAAM,KAAK,MAAMH,EAAK,IAAO,GAAK,EAAE,EAAI,GACxCI,EAAM,KAAK,MAAMJ,EAAK,IAAO,GAAK,GAAK,EAAE,EAE/CZ,EAAO,YAAc,OAAOgB,CAAG,EAAE,SAAS,EAAG,GAAG,EAChDf,EAAQ,YAAc,OAAOc,CAAG,EAAE,SAAS,EAAG,GAAG,EACjDb,EAAU,YAAc,OAAOY,CAAG,EAAE,SAAS,EAAG,GAAG,EACnDX,EAAU,YAAc,OAAOU,CAAG,EAAE,SAAS,EAAG,GAAG,CACrD"}